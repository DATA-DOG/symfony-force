#!/bin/sh

DIR="$( cd "$( dirname "$0" )" && pwd )"
DIR="$( dirname "$DIR" )"
PWD="$(pwd)"

cd $DIR

PACKAGE="$1"
if [ ! -d "$(dirname "$PACKAGE")" ]; then
    echo "A valid file directory location is required as first argument."
    exit 1
fi

tar --exclude-from=.tarignore --exclude-vcs -czf $PACKAGE .

echo "Have archived application to $PACKAGE"

cd $PWD # go back
