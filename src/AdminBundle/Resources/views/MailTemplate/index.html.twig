{% extends 'AdminBundle::layout.html.twig' %}

{% block content %}
  <h1>
    Email templates
    <a href="{{ url('admin_template_create') }}" class="btn btn-success pull-right"><i class="fa fa-plus"></i> Add new template</a>
  </h1>
  <div class="panel panel-primary">
    <div class="panel-heading"><i class="fa fa-envelope"></i> Email templates</div>
    <table class="table table-hover table-striped">
      <thead>
        <tr>
          <th>#</th>
          <th>{{ sorter_link(templates, 'u.alias', 'Alias') }}</th>
          <th>{{ sorter_link(templates, 'u.subject', 'Subject') }}</th>
          <th>{{ sorter_link(templates, 'u.updatedAt', 'Last updated') }}</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {% for template in templates %}
          <tr>
            <td class="col-min">{{ template.id }}</td>
            <td>{{ template.alias }}</td>
            <td>{{ template.subject }}</td>
            <td>{{ template.createdAt|date }}</td>
            <td class="col-min">
              <a href="{{ url('admin_template_edit', {id: template.id}) }}" class="btn btn-xs btn-link" data-title="Edit" data-toggle="tooltip">
                <i class="fa fa-search"></i>
              </a>
              <a href="{{ url('admin_template_delete', {id: template.id}) }}" class="btn btn-xs btn-link js-confirm" data-title="Delete" data-toggle="tooltip">
                <i class="fa fa-times"></i>
              </a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    <div class="panel-footer">
      {{ pagination(templates) }}
    </div>
  </div>
{% endblock %}
